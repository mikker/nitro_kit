<%= component_page do %>
  <%= component_header do %>
    <%= title "Pagination" %>
    <%= lead "Numbers, as far as the eye can see" %>
    <%= render NuggetsComponent.new(%i[component]) %>
  <% end %>

  <%= section do %>
    <%= section_title "Example" %>
    <%= example_file "pagination_basic" %>

    <%= code_example do %>
      {#= nk_pagination do |p| #}
        {#= p.prev #}
        {#= p.page(1) #}
        {#= p.ellipsis #}
        {#= p.page(42) #}
        {#= p.next #}
      {# end #}
    <% end %>
  <% end %>

  <%= render "install_section", component_name: "pagination" %>
  <%= render "dependencies_section", component_name: "pagination" %>

  <%= section do %>
    <%= section_title(class: "flex gap-4 justify-between items-center") do %>
      Pagy
      <%= nk_button_link_to "Docs", "https://ddnexus.github.io/pagy/", size: :sm, icon_right: "arrow-up-right", target: "_blank" %>
    <% end %>

    <div class="prose">
      <p>Nitro Kit comes with built-in support for the gem <a href="https://ddnexus.github.io/pagy/" target="_blank">Pagy</a>. That's a freebie!</p>
      <p><code>nk_pagy_nav</code> has the same API as <code>pagy_nav</code>.</p>
    </div>

    <%= example_file "pagination_pagy" %>

    <%= code_example do %>
      {#= nk_pagy_nav(pagy) #}
    <% end %>
  <% end %>

  <%= section do %>
    <%= section_title "Usage" %>

    <%= render PropTable.new("nk_pagination(**attrs) { ... }") do |t| %>
      <%= t.attrs_prop(:nav) %>
    <% end %>

    <%= render PropTable.new("pagination.prev(text = nil, **attrs) { ... }") do |t| %>
      <%= t.text_prop(default: "Previous") %>
      <%= t.attrs_prop(:a) %>
    <% end %>

    <%= render PropTable.new("pagination.next(text = nil, **attrs) { ... }") do |t| %>
      <%= t.text_prop(default: "Next") %>
      <%= t.attrs_prop(:a) %>
    <% end %>

    <%= render PropTable.new("pagination.page(text = nil, **attrs) { ... }") do |t| %>
      <%= t.text_prop %>
      <%= t.prop "current", "false" do %>
        Whether the page is the current page.
      <% end %>
      <%= t.attrs_prop(:a) %>
    <% end %>

    <%= render PropTable.new("pagination.ellipsis(**attrs)") do |t| %>
      <%= t.attrs_prop(:button) %>
    <% end %>

    <%= render PropTable.new("nk_pagy_nav(pagy, id: nil, aria_label: nil, **attrs)") do |t| %>
      <%= t.prop "pagy" do %>
        A Pagy instance.
      <% end %>
      <%= t.attrs_prop(:nav) %>
    <% end %>
  <% end %>
<% end %>
